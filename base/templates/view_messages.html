{% extends "index.html" %}
{% block content %}
<div class='container'>
  <h1 class='title'>Your Messages</h1>
</div>
<div class='messages'>
  <div class='received'>
    <h2>Received Messages</h2>
    {% for message in received_messages %}
      <div class='received_messages'>
        <strong>From {{ message.sender.username }}:</strong>
        
        <p>- {{ message.content }}</p>

        <span class="timestamp">{{ message.timestamp }}</span>

        <a href={% url "send_message" recipient_id=message.sender.id %}>Replay</a>

      </div>
    {% empty %}
      <p>No received messages.</p>
    {% endfor %}
  </div>

  <div class='sent'>
    <h2>Sent Messages</h2>
    {% for message in sent_messages %}
      <div class='sent_messages'>
        <strong>To {{ message.recipient.username }}:</strong> 
        <p>- {{ message.content }}</p>
        <span class="timestamp">{{ message.timestamp }}</span>
      </div>
    {% empty %}
      <p>No sent messages.</p>
    {% endfor %}
  </div>
</div>
{% endblock content %}

